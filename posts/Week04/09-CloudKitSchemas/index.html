<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta property="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week04/09-CloudKitSchemas"/><meta name="twitter:url" content="https://hococoder.com/posts/Week04/09-CloudKitSchemas"/><meta property="og:url" content="https://hococoder.com/posts/Week04/09-CloudKitSchemas"/><title>Week 4 - CloudKit Database Schemas | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 4 - CloudKit Database Schemas | Mobile Application Development for the iOS Platform"/><meta property="og:title" content="Week 4 - CloudKit Database Schemas | Mobile Application Development for the iOS Platform"/><meta name="description" content="Engineering Program for Professionals - 605.687 - 2025-2026 Academic Year"/><meta name="twitter:description" content="Engineering Program for Professionals - 605.687 - 2025-2026 Academic Year"/><meta property="og:description" content="Engineering Program for Professionals - 605.687 - 2025-2026 Academic Year"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><script src="../../../../jquery-3.7.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><div class="layout"><div class="header"><div class="headerLayout"><div class="title">Mobile Application Development for the iOS Platform</div><div class="subtitle">Engineering Program for Professionals - 605.687 - 2025-2026 Academic Year</div><div class="weeklayout"><a class="grow1" href="/epp_605_687_spring_2026/posts/Intro/About Me">About Me</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Intro/Example App">Example App</a><a class="grow1" href="/epp_605_687_spring_2026//posts//Week00//00-Week00Overview">Week 0</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week01/00-Week01Overview">Week 1</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week02/00-Week02Overview">Week 2</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week03/00-Week03Overview">Week 3</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week04/00-Week04Overview">Week 4</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week05/00-Week05Overview">Week 5</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week06/00-Week06Overview">Week 6</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week07/00-Week07Overview">Week 7</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week08/00-Week08Overview">Week 8</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week09/00-Week09Overview">Week 9</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week10/00-Week10Overview">Week 10</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week11/00-Week11Overview">Week 11</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week12/00-Week12Overview">Week 12</a><a class="grow1" href="/epp_605_687_spring_2026/posts/Week13/00-Week13Overview">Week 13</a></div></div></div><div class="wrapper"><h1>Week 4 - CloudKit Database Schemas</h1><p style="float: left">Previous:  <A HREF="../../Week04/08-SettingUpCloudKit/index.html">Setting Up CloudKit</A></p><p style="float: right">Next:  <A HREF="../../Week04/10-CloudKitFeatures/index.html">CloudKit Features</A></p><BR/><BR/><center><iframe id="myIframe" src="https://jh.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=97c61b1b-e62d-437e-b8e3-b3d4016aa5a1&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all"  style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="Week0-04-THIRDPARTYTOOLS-Lecture" ></iframe></center><a name="makingADatabaseSchema"></a>
<h2>Making a Database Schema</h2><p>When it comes to making database schemas, you don’t have to have one predefined. During your app development, you can use something called “Just-In-Time Schema”. As you construct objects, records, which you can think of as database tables, can be constructed from the fields of the object, as long as they are basic types such as <code>String</code>s or <code>Int</code>s. When you pair this record with a unique name, it can be saved to the cloud. Don’t forget to use your iCloud credentials when testing your schema! In fact, it is good practice to make a test set of iCloud credentials (making a new Apple ID is free!) just in case something weird happens.</p><p>The video below from an earlier session of the class shows you the syntax involved with setting up such a Just-In-Time Schema in your code (see the code below).</p><h3>Example</h3><center><iframe id="myIframe" src="https://jh.hosted.panopto.com/Panopto/Pages/Embed.aspx?id=9daefbcd-2ffa-4b0d-9514-b3d701510d82&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all"  style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="Week0-04-THIRDPARTYTOOLS-Lecture" ></iframe></center><p>The example code below is part of the "CloudKitDemo" project that can be found <a href="http://159.203.191.136/current/CloudKitDemo.zip">here</a>.</p><p>Here are the steps to create a JIT schema:</p><ul><li>First, make sure you import <code>CloudKit</code>.</li><li>Next, make a studentID using <code>CKRecord.ID</code>.</li><li>Then, make a record using <code>CKRecord</code> with the arguments <code>recordType</code>, which is the name of the entity in the database, and the <code>recordID</code> you made previously.</li><li>Then set the properties of the record using key value pairs, where the key is a string the is the name of attribute.</li></ul><pre><code><span class="keyword">import</span> CloudKit

<span class="keyword">let</span> studentID = <span class="type">CKRecord</span>.<span class="type">ID</span>(recordName: <span class="string">"1234"</span>)

<span class="keyword">let</span> student = <span class="type">CKRecord</span>(recordType: <span class="string">"Student"</span>, recordID: studentID)
student[<span class="string">"id"</span>] = <span class="string">"1234"</span> <span class="keyword">as</span> <span class="type">NSString</span>
student[<span class="string">"name"</span>] = <span class="string">"Josh Steele"</span> <span class="keyword">as</span> <span class="type">NSString</span>
</code></pre><p>Once you have that in place, you can get a handle to the private database, and then save your record to the database. Here, we're using a named <code>CKContainer</code>, which is defined in the developer portal. You can then get that container's private cloud database, and save the record. Note that this uses <code>async</code>/<code>await</code>, and also <code>throws</code> - so don't forget to handle errors!</p><pre><code><span class="keyword">let</span> myContainer = <span class="type">CKContainer</span>(identifier: <span class="string">"iCloud.edu.jh.ep.CloudKitDemo"</span>)
<span class="keyword">let</span> privateDatabase = myContainer.<span class="property">privateCloudDatabase</span>
<span class="keyword">do</span> {
  <span class="keyword">_</span> = <span class="keyword">try await</span> privateDatabase.<span class="call">save</span>(student)
}
<span class="keyword">catch</span> {
  <span class="call">print</span>(<span class="string">"Error saving to CloudKit"</span>)
}

</code></pre><p>Note: this doesn't seem to run in the Preview Canvas, so please run this in the simulator. Don't forget to go into the Simulator Settings and login with your iCloud credentials.<br><br>If you already have a database structure in mind, or if you want to confirm that your just-in-time schema creation works. you can view them in the <a href="https://icloud.developer.apple.com">CloudKit Dashboard</a>. A private database is also available, and any schemas made during development can be deployed to an active environment.</p><img src="../../../week04/CloudKitDashboard0.png#centerResizedSlide" alt="The Main CloudKit Landing Page"/><img src="../../../week04/CloudKitDashboard1.png#centerResizedSlide" alt="The Main Dashboard View for our Container"/><p>Each record type and its attributes can be configured right in the dashboard.<br><br> <img src="../../../week04/CloudKitDashboard2.png#centerResizedSlide" alt="The Schema Screen"/></p><p class="info">Important Note: If you use Just-In-Time schema, they are NOT immediately queryable via the CloudKit Dashboard Data area.  You have to go to that type in the Schema, select "Edit Index", and add a new index for the "recordName" field, and then click "Save Changes". Once this been done, you can go to the Data type and search on that type.</p><img src="../../../week04/RecordNameIndex.png#centerResizedSlide" alt="Record Name Index"/><p style="float: left">Previous:  <A HREF="../../Week04/08-SettingUpCloudKit/index.html">Setting Up CloudKit</A></p><p style="float: right">Next:  <A HREF="../../Week04/10-CloudKitFeatures/index.html">CloudKit Features</A></p><BR/><BR/></div><leftside><u><p>Week 4</p></u><div class="weekSection"><ul><li><div class="comment-container"><div class="tocItem"><a id="Week 04 Overview" href="../../Week04/00-Week04Overview/index.html">Week 04 Overview</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to Networking" href="../../Week04/01-IntroductionToNetworking/index.html">Introduction to Networking</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="URL Session Delegate" href="../../Week04/02-URLSessionDelegate/index.html">URL Session Delegate</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Networking Best Practices" href="../../Week04/03-NetworkingBestPractices/index.html">Networking Best Practices</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Networking Example" href="../../Week04/04-NetworkingExample/index.html">Networking Example</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Async Await" href="../../Week04/05-AsyncAwait/index.html">Async Await</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to CloudKit" href="../../Week04/07-IntroductionToCloudKit/index.html">Introduction to CloudKit</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Setting Up CloudKit" href="../../Week04/08-SettingUpCloudKit/index.html">Setting Up CloudKit</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="CloudKit Schemas" href="../../Week04/09-CloudKitSchemas/index.html">CloudKit Schemas</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="CloudKit Features" href="../../Week04/10-CloudKitFeatures/index.html">CloudKit Features</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Updating Your App For CloudKit" href="../../Week04/11-UpdatingYourAppForCloudKit/index.html">Updating Your App For CloudKit</a></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Introduction to Swift Package Manager" href="../../Week04/12-IntroductionToSwiftPackageManager/index.html">Introduction to Swift Package Manager</a></div></div></li></ul></div></leftside><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2025-2026 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 25, 2026 at 9:10 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></div></body></html>